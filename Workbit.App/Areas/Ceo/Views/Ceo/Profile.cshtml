@model CeoDashboardViewModel
@{
    ViewData["Title"] = "CEO Dashboard";
    var presentPercentage = Model.TotalEmployees == 0 ? 0 : (100.0 * Model.PresentToday / Model.TotalEmployees);
    var payrollPercentage = Model.TotalPayrollThisMonth == 0 ? 0 : (100.0 * Model.PaidEmployeesThisMonth / Model.TotalEmployees);
}

<style>
    html, body { height: 100%; margin: 0; padding: 0; }
    body { min-height: 100vh; display: flex; flex-direction: column; background-color: #eaf4f7; font-family: 'Nunito', sans-serif; }
    .ceo-dashboard-wrapper { flex: 1; display: grid; grid-template-columns: 2fr 1fr; gap: 2rem; max-width: 1200px; margin: 2rem auto; padding: 0 1rem; }
    h1.dashboard-title { grid-column: 1 / -1; text-align: center; color: #179ca8; margin-bottom: 1rem; font-size: 2.5rem; font-weight: 800; }
    .stats-panel { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; }
    .summary-card { background: #fff; border-radius: 18px; box-shadow: 0 8px 28px rgba(0,0,0,0.09); padding: 24px; text-align: center; transition: transform 0.2s, box-shadow 0.2s; }
    .summary-card:hover { transform: translateY(-4px); box-shadow: 0 12px 30px rgba(0,0,0,0.12); }
    .summary-card h4 { font-size: 1.15rem; color: #179ca8; font-weight: 700; margin-bottom: 0.5rem; }
    .summary-card p { font-size: 2rem; font-weight: 800; color: #12777e; margin: 0; }
    .percent-badge { margin-left: 6px; padding: 4px 12px; border-radius: 20px; font-size: 1rem; font-weight: 700; background: #eafaf4; color: #0aad7b; }
    .progress-bar { width: 80%; height: 8px; background: #eee; border-radius: 4px; overflow: hidden; margin: 0.5rem auto 0 auto; }
    .progress-bar-fill { height: 100%; border-radius: 4px; }
    .progress-present { background: #0aad7b; }
    .progress-payroll { background: #179ca8; }
    .right-panel { display: flex; flex-direction: column; gap: 1.5rem; }
    .profile-card { background: #fff; border-radius: 22px; box-shadow: 0 8px 28px rgba(0,0,0,0.09); padding: 24px; text-align: center; position: relative; }
    .profile-card h2 { font-size: 2rem; color: #179ca8; font-weight: 800; margin-bottom: 0.5rem; }
    .profile-info-list { list-style: none; padding: 0; margin: 0; font-size: 1rem; color: #222; line-height: 1.8; text-align: left; }
    .profile-info-list li { margin-bottom: 0.6rem; }
    .profile-info-list strong { color: #17b0c7; margin-right: 0.5rem; }
    .delete-company-btn { display: block; margin: 1rem auto 0; padding: 10px 24px; font-size: 1rem; font-weight: 700; border: none; border-radius: 28px; cursor: pointer; background: #e63946; color: #fff; transition: background 0.3s, transform 0.2s; }
    .delete-company-btn:hover { background: #c1121f; transform: translateY(-2px); }
    @@media (max-width: 900px) { .ceo-dashboard-wrapper { grid-template-columns: 1fr; } }
</style>

<div class="ceo-dashboard-wrapper">
    <h1 class="dashboard-title">Welcome, @Model.CeoName</h1>

    <div class="stats-panel">
        <div class="summary-card">
            <h4>Total Employees</h4>
            <p>@Model.TotalEmployees</p>
        </div>
        <div class="summary-card">
            <h4>Total Managers</h4>
            <p>@Model.TotalManagers</p>
        </div>
        <div class="summary-card">
            <h4>Departments</h4>
            <p>@Model.TotalDepartments</p>
        </div>
        <div class="summary-card">
            <h4>Attendance Today
                <span class="percent-badge">@presentPercentage.ToString("F0")%</span>
            </h4>
            <p>@Model.PresentToday / @Model.TotalEmployees</p>
            <div class="progress-bar">
                <div class="progress-bar-fill progress-present" style="width:@presentPercentage.ToString("F0")%;"></div>
            </div>
        </div>
        <div class="summary-card">
            <h4>Payroll This Month
                <span class="percent-badge">@payrollPercentage.ToString("F0")%</span>
            </h4>
            <p>$@Model.TotalPayrollThisMonth</p>
            <div class="progress-bar">
                <div class="progress-bar-fill progress-payroll" style="width:@payrollPercentage.ToString("F0")%;"></div>
            </div>
        </div>
    </div>

    <div class="right-panel">
        <div class="profile-card">
            <h2>@Model.CeoName</h2>
            <ul class="profile-info-list">
                <li><strong>Company:</strong> @Model.CompanyName</li>
                <li><strong>Phone:</strong> @Model.ContactPhone</li>
                <li><strong>Country:</strong> @Model.CountryName</li>
            </ul>
            <form asp-area="Ceo" asp-controller="Company" asp-action="Delete" asp-route-id="@Model.CompanyId" method="post"
                  onsubmit="return confirm('Are you sure you want to permanently delete this company?');">
                <button type="submit" class="delete-company-btn">Delete Company</button>
            </form>
        </div>
    </div>
</div>